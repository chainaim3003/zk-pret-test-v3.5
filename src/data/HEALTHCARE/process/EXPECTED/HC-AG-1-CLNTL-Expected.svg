<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 600" width="1000" height="600">
  <!-- Background -->
  <rect width="1000" height="600" fill="#f8f9fa" stroke="#e9ecef" stroke-width="1"/>
  
  <!-- Title -->
  <text x="500" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">HC-AG-1-CLNTL: Multi-Hospital Clinical Trial Coordination - Pattern: ab(c|d)efghijkl</text>
  
  <!-- START Event -->
  <circle cx="60" cy="180" r="20" fill="#2ecc71" stroke="#27ae60" stroke-width="2"/>
  <text x="60" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">Start</text>
  <text x="60" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">START</text>
  
  <!-- Flow a -->
  <line x1="80" y1="180" x2="120" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="100" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">a</text>
  
  <!-- Node 1: Protocol -->
  <circle cx="140" cy="180" r="15" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="140" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">1</text>
  <text x="140" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Protocol</text>
  
  <!-- Flow b -->
  <line x1="155" y1="180" x2="195" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="175" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">b</text>
  
  <!-- Node 2: IRB (Branch Point) -->
  <circle cx="215" cy="180" r="15" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
  <text x="215" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">2</text>
  <text x="215" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">IRB Branch</text>
  
  <!-- Branch flows c and d -->
  <!-- Flow c (upper branch) -->
  <line x1="225" y1="175" x2="270" y2="130" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="250" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">c</text>
  
  <!-- Flow d (lower branch) -->
  <line x1="225" y1="185" x2="270" y2="230" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="250" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">d</text>
  
  <!-- Node 3: Hospital A -->
  <circle cx="290" cy="130" r="15" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="290" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">3</text>
  <text x="290" y="155" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Hosp A</text>
  
  <!-- Node 4: Hospital B -->
  <circle cx="290" cy="230" r="15" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="290" y="235" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">4</text>
  <text x="290" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Hosp B</text>
  
  <!-- Join flows e -->
  <!-- Flow e from node 3 -->
  <line x1="300" y1="135" x2="345" y2="175" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="325" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">e</text>
  
  <!-- Flow e from node 4 -->
  <line x1="300" y1="225" x2="345" y2="185" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="325" y="210" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">e</text>
  
  <!-- Node 5: Randomization (Join Point) -->
  <circle cx="365" cy="180" r="15" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
  <text x="365" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">5</text>
  <text x="365" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Random</text>
  
  <!-- Linear continuation: f, g, h, i, j, k, l -->
  
  <!-- Flow f -->
  <line x1="380" y1="180" x2="420" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="400" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">f</text>
  
  <!-- Node 6: Drug Distribution -->
  <circle cx="440" cy="180" r="15" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
  <text x="440" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">6</text>
  <text x="440" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Drug</text>
  
  <!-- Flow g -->
  <line x1="455" y1="180" x2="495" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="475" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">g</text>
  
  <!-- Node 7: Adverse Events -->
  <circle cx="515" cy="180" r="15" fill="#f39c12" stroke="#e67e22" stroke-width="2"/>
  <text x="515" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">7</text>
  <text x="515" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Adverse</text>
  
  <!-- Flow h -->
  <line x1="530" y1="180" x2="570" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="550" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">h</text>
  
  <!-- Node 8: Data Collection -->
  <circle cx="590" cy="180" r="15" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="590" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">8</text>
  <text x="590" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Data</text>
  
  <!-- Flow i -->
  <line x1="605" y1="180" x2="645" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="625" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">i</text>
  
  <!-- Node 9: Efficacy Analysis -->
  <circle cx="665" cy="180" r="15" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
  <text x="665" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">9</text>
  <text x="665" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Efficacy</text>
  
  <!-- Flow j -->
  <line x1="680" y1="180" x2="720" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="700" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">j</text>
  
  <!-- Node 10: Safety Database -->
  <circle cx="740" cy="180" r="15" fill="#16a085" stroke="#138d75" stroke-width="2"/>
  <text x="740" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">10</text>
  <text x="740" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Safety DB</text>
  
  <!-- Flow k -->
  <line x1="755" y1="180" x2="795" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="775" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">k</text>
  
  <!-- Node 11: Publication -->
  <circle cx="815" cy="180" r="15" fill="#8e44ad" stroke="#7d3c98" stroke-width="2"/>
  <text x="815" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">11</text>
  <text x="815" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#2c3e50">Publish</text>
  
  <!-- Flow l -->
  <line x1="830" y1="180" x2="870" y2="180" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <text x="850" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">l</text>
  
  <!-- END Event -->
  <circle cx="890" cy="180" r="20" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
  <text x="890" y="185" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="white">End</text>
  <text x="890" y="215" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">END</text>
  
  <!-- Legend Section - Moved Below Network -->
  <rect x="50" y="300" width="900" height="260" fill="#ffffff" stroke="#bdc3c7" stroke-width="1" rx="5"/>
  <text x="500" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2c3e50">Process Legend</text>
  
  <!-- Valid Paths -->
  <text x="70" y="350" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#27ae60">Valid Paths:</text>
  <text x="70" y="370" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">Path 1: a‚Üíb‚Üíc‚Üíe‚Üíf‚Üíg‚Üíh‚Üíi‚Üíj‚Üík‚Üíl (Hospital A)</text>
  <text x="70" y="385" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">Path 2: a‚Üíb‚Üíd‚Üíe‚Üíf‚Üíg‚Üíh‚Üíi‚Üíj‚Üík‚Üíl (Hospital B)</text>
  
  <!-- Process Combined Expression -->
  <text x="70" y="410" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#8e44ad">Process Combined Expression:</text>
  <text x="70" y="425" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#e74c3c">ab(c|d)efghijkl</text>
  
  <!-- Key Flows - Three Columns -->
  <text x="70" y="450" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2980b9">Key Flows:</text>
  
  <!-- Left Column -->
  <text x="70" y="470" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">a: Protocol Agent</text>
  <text x="70" y="485" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">b: IRB Approval</text>
  <text x="70" y="500" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">c: Hospital A Enrollment</text>
  <text x="70" y="515" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">d: Hospital B Enrollment</text>
  <text x="70" y="530" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">e: Patient Randomization</text>
  <text x="70" y="545" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">f: Drug Distribution</text>
  
  <!-- Middle Column -->
  <text x="320" y="470" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">g: Adverse Event Monitoring</text>
  <text x="320" y="485" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">h: Data Collection</text>
  <text x="320" y="500" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">i: Efficacy Analysis</text>
  <text x="320" y="515" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">j: Safety Database</text>
  <text x="320" y="530" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">k: Publication Preparation</text>
  <text x="320" y="545" font-family="Arial, sans-serif" font-size="10" fill="#2c3e50">l: Final Verification</text>
  
  <!-- Right Column - ZK Privacy -->
  <text x="570" y="470" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="#9b59b6">üîê Zero-Knowledge Privacy Points:</text>
  <text x="570" y="490" font-family="Arial, sans-serif" font-size="10" fill="#9b59b6">‚Ä¢ e: Fair randomization without patient IDs</text>
  <text x="570" y="505" font-family="Arial, sans-serif" font-size="10" fill="#9b59b6">‚Ä¢ g: Safety signals without re-identification</text>
  <text x="570" y="520" font-family="Arial, sans-serif" font-size="10" fill="#9b59b6">‚Ä¢ i: Statistical analysis with privacy</text>
  <text x="570" y="535" font-family="Arial, sans-serif" font-size="10" fill="#9b59b6">‚Ä¢ k: Results without competitive intel</text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e" />
    </marker>
  </defs>
  
</svg>