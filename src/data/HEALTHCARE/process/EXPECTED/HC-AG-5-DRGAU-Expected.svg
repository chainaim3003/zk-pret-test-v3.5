<svg width="1800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: Arial, sans-serif; font-size: 18px; font-weight: bold; text-anchor: middle; }
      .node { fill: #e1f5fe; stroke: #0277bd; stroke-width: 2; }
      .start-end { fill: #c8e6c9; stroke: #388e3c; stroke-width: 2; }
      .branch { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .join { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; }
      .edge { stroke: #424242; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .edge-label { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; font-weight: bold; }
      .legend-text { font-family: Arial, sans-serif; font-size: 11px; }
      .legend-title { font-family: Arial, sans-serif; font-size: 13px; font-weight: bold; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#424242"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="900" y="25" class="title">HC-AG-5-DRGAU: Insurance-Hospital-Pharmacy Drug Authorization Workflow</text>
  
  <!-- Start Node -->
  <circle cx="80" cy="120" r="20" class="start-end"/>
  <text x="80" y="125" class="edge-label">Start</text>
  
  <!-- Process Nodes -->
  <circle cx="160" cy="120" r="15" class="node"/>
  <text x="160" y="125" class="edge-label">1</text>
  
  <circle cx="240" cy="120" r="15" class="node"/>
  <text x="240" y="125" class="edge-label">2</text>
  
  <!-- Branch Point 1: Drug Class -->
  <circle cx="320" cy="120" r="15" class="branch"/>
  <text x="320" y="125" class="edge-label">3</text>
  
  <circle cx="400" cy="80" r="15" class="node"/>
  <text x="400" y="85" class="edge-label">4</text>
  
  <circle cx="400" cy="120" r="15" class="node"/>
  <text x="400" y="125" class="edge-label">5</text>
  
  <circle cx="400" cy="160" r="15" class="node"/>
  <text x="400" y="165" class="edge-label">6</text>
  
  <!-- Join Point 1 -->
  <circle cx="480" cy="120" r="15" class="join"/>
  <text x="480" y="125" class="edge-label">7</text>
  
  <!-- Branch Point 2: Authorization Type -->
  <circle cx="560" cy="120" r="15" class="branch"/>
  <text x="560" y="125" class="edge-label">8</text>
  
  <circle cx="640" cy="95" r="15" class="node"/>
  <text x="640" y="100" class="edge-label">9</text>
  
  <circle cx="640" cy="145" r="15" class="node"/>
  <text x="640" y="150" class="edge-label">10</text>
  
  <!-- Join Point 2 -->
  <circle cx="720" cy="120" r="15" class="join"/>
  <text x="720" y="125" class="edge-label">12</text>
  
  <!-- Branch Point 3: Payment Method -->
  <circle cx="800" cy="120" r="15" class="branch"/>
  <text x="800" y="125" class="edge-label">13</text>
  
  <circle cx="880" cy="95" r="15" class="node"/>
  <text x="880" y="100" class="edge-label">14</text>
  
  <circle cx="880" cy="145" r="15" class="node"/>
  <text x="880" y="150" class="edge-label">15</text>
  
  <!-- Join Point 3 -->
  <circle cx="960" cy="120" r="15" class="join"/>
  <text x="960" y="125" class="edge-label">17</text>
  
  <!-- Branch Point 4: Dispensing Location -->
  <circle cx="1040" cy="120" r="15" class="branch"/>
  <text x="1040" y="125" class="edge-label">18</text>
  
  <circle cx="1120" cy="80" r="15" class="node"/>
  <text x="1120" y="85" class="edge-label">19</text>
  
  <circle cx="1120" cy="120" r="15" class="node"/>
  <text x="1120" y="125" class="edge-label">20</text>
  
  <circle cx="1120" cy="160" r="15" class="node"/>
  <text x="1120" y="165" class="edge-label">21</text>
  
  <!-- Join Point 4 -->
  <circle cx="1200" cy="120" r="15" class="join"/>
  <text x="1200" y="125" class="edge-label">22</text>
  
  <!-- Final Node -->
  <circle cx="1280" cy="120" r="15" class="node"/>
  <text x="1280" y="125" class="edge-label">23</text>
  
  <!-- End Node -->
  <circle cx="1360" cy="120" r="20" class="start-end"/>
  <text x="1360" y="125" class="edge-label">End</text>
  
  <!-- Edges with Labels -->
  <line x1="100" y1="120" x2="145" y2="120" class="edge"/>
  <text x="122" y="115" class="edge-label">a</text>
  
  <line x1="175" y1="120" x2="225" y2="120" class="edge"/>
  <text x="200" y="115" class="edge-label">b</text>
  
  <line x1="255" y1="120" x2="305" y2="120" class="edge"/>
  <text x="280" y="115" class="edge-label">c</text>
  
  <path d="M 335 120 Q 350 100 385 80" class="edge"/>
  <text x="360" y="95" class="edge-label">d</text>
  
  <line x1="335" y1="120" x2="385" y2="120" class="edge"/>
  <text x="360" y="115" class="edge-label">e</text>
  
  <path d="M 335 120 Q 350 140 385 160" class="edge"/>
  <text x="360" y="145" class="edge-label">f</text>
  
  <path d="M 415 80 Q 430 100 465 120" class="edge"/>
  <text x="440" y="95" class="edge-label">g</text>
  
  <line x1="415" y1="120" x2="465" y2="120" class="edge"/>
  <text x="440" y="115" class="edge-label">g</text>
  
  <path d="M 415 160 Q 430 140 465 120" class="edge"/>
  <text x="440" y="145" class="edge-label">g</text>
  
  <line x1="495" y1="120" x2="545" y2="120" class="edge"/>
  <text x="520" y="115" class="edge-label">h</text>
  
  <path d="M 575 120 Q 590 110 625 95" class="edge"/>
  <text x="600" y="105" class="edge-label">i</text>
  
  <path d="M 575 120 Q 590 130 625 145" class="edge"/>
  <text x="600" y="135" class="edge-label">j</text>
  
  <path d="M 655 95 Q 670 105 705 120" class="edge"/>
  <text x="680" y="105" class="edge-label">k</text>
  
  <path d="M 655 145 Q 670 135 705 120" class="edge"/>
  <text x="680" y="135" class="edge-label">k</text>
  
  <line x1="735" y1="120" x2="785" y2="120" class="edge"/>
  <text x="760" y="115" class="edge-label">l</text>
  
  <path d="M 815 120 Q 830 110 865 95" class="edge"/>
  <text x="840" y="105" class="edge-label">m</text>
  
  <path d="M 815 120 Q 830 130 865 145" class="edge"/>
  <text x="840" y="135" class="edge-label">n</text>
  
  <path d="M 895 95 Q 910 105 945 120" class="edge"/>
  <text x="920" y="105" class="edge-label">o</text>
  
  <path d="M 895 145 Q 910 135 945 120" class="edge"/>
  <text x="920" y="135" class="edge-label">o</text>
  
  <line x1="975" y1="120" x2="1025" y2="120" class="edge"/>
  <text x="1000" y="115" class="edge-label">p</text>
  
  <path d="M 1055 120 Q 1070 100 1105 80" class="edge"/>
  <text x="1080" y="95" class="edge-label">q</text>
  
  <line x1="1055" y1="120" x2="1105" y2="120" class="edge"/>
  <text x="1080" y="115" class="edge-label">r</text>
  
  <path d="M 1055 120 Q 1070 140 1105 160" class="edge"/>
  <text x="1080" y="145" class="edge-label">s</text>
  
  <path d="M 1135 80 Q 1150 100 1185 120" class="edge"/>
  <text x="1160" y="95" class="edge-label">t</text>
  
  <line x1="1135" y1="120" x2="1185" y2="120" class="edge"/>
  <text x="1160" y="115" class="edge-label">t</text>
  
  <path d="M 1135 160 Q 1150 140 1185 120" class="edge"/>
  <text x="1160" y="145" class="edge-label">t</text>
  
  <line x1="1215" y1="120" x2="1265" y2="120" class="edge"/>
  <text x="1240" y="115" class="edge-label">u</text>
  
  <line x1="1295" y1="120" x2="1340" y2="120" class="edge"/>
  <text x="1317" y="115" class="edge-label">v</text>
  
  <!-- Legend -->
  <g transform="translate(50, 250)">
    <text x="650" y="0" class="legend-title">HEALTHCARE DRUG AUTHORIZATION WORKFLOW LEGEND</text>
    
    <text x="0" y="25" class="legend-title">START → END PATHWAY:</text>
    <text x="0" y="45" class="legend-text">Start: Multi-Entity Drug Authorization Coordinator → ... → End: Drug Authorization Complete</text>
    
    <text x="0" y="75" class="legend-title">EDGE SEQUENCE FLOWS (a-v):</text>
    <text x="0" y="95" class="legend-text">a: Patient Identity Verification (🔒 PRIVATE Patient + Insurance data)</text>
    <text x="0" y="110" class="legend-text">b: Clinical Assessment (🔒 PRIVATE Hospital medical data)</text>
    <text x="0" y="125" class="legend-text">c: Drug Classification Router (🔐 ZK PROOF Route to drug class)</text>
    <text x="0" y="140" class="legend-text">d: Generic Drug Processing (🔒 PRIVATE Generic formulary)</text>
    <text x="0" y="155" class="legend-text">e: Specialty Drug Processing (🔒 PRIVATE Specialty protocols)</text>
    <text x="0" y="170" class="legend-text">f: Controlled Substance Processing (🟦 REGULATORY DEA verification)</text>
    <text x="0" y="185" class="legend-text">g: Insurance Coverage Verification (🔒 PRIVATE Coverage algorithms)</text>
    <text x="0" y="200" class="legend-text">h: Authorization Type Router (🔐 ZK PROOF Route to prior auth or standard)</text>
    <text x="0" y="215" class="legend-text">i: Prior Authorization (🔐 ZK PROOF Medical necessity verification)</text>
    <text x="0" y="230" class="legend-text">j: Standard Authorization (🔒 PRIVATE Standard formulary process)</text>
    <text x="0" y="245" class="legend-text">k: Authorization Decision Join (🔐 ZK PROOF Unified authorization)</text>
    <text x="0" y="260" class="legend-text">l: Drug Interaction Screening (🔒 PRIVATE Patient medication history)</text>
    <text x="0" y="275" class="legend-text">m: Insurance Payment Processing (🔒 PRIVATE Insurance payment calculation)</text>
    <text x="0" y="290" class="legend-text">n: Cash Payment Processing (🔒 PRIVATE Patient financial transaction)</text>
    <text x="0" y="305" class="legend-text">o: Payment Processing Join (🔐 ZK PROOF Unified payment verification)</text>
    <text x="0" y="320" class="legend-text">p: Dispensing Location Router (🔐 ZK PROOF Route to pharmacy type)</text>
    <text x="0" y="335" class="legend-text">q: Retail Pharmacy Dispensing (🔒 PRIVATE Retail pharmacy operations)</text>
    <text x="0" y="350" class="legend-text">r: Hospital Pharmacy Dispensing (🔒 PRIVATE Hospital pharmacy protocols)</text>
    <text x="0" y="365" class="legend-text">s: Specialty Pharmacy Dispensing (🔒 PRIVATE Specialty pharmacy monitoring)</text>
    <text x="0" y="380" class="legend-text">t: Dispensing Verification Join (🔐 ZK PROOF Unified dispensing completion)</text>
    <text x="0" y="395" class="legend-text">u: Regulatory Audit Documentation (🟦 REGULATORY Multi-entity compliance trail)</text>
    <text x="0" y="410" class="legend-text">v: Final Authorization Verification (🔐 ZK PROOF Complete authorization integrity)</text>
    
    <text x="950" y="95" class="legend-title">BRANCHING POINTS (3,8,13,18):</text>
    <text x="950" y="115" class="legend-text">3: Drug Class (Generic/Specialty/Controlled)</text>
    <text x="950" y="130" class="legend-text">8: Authorization (Prior Auth/Standard)</text>
    <text x="950" y="145" class="legend-text">13: Payment (Insurance/Cash)</text>
    <text x="950" y="160" class="legend-text">18: Location (Retail/Hospital/Specialty)</text>
    
    <text x="950" y="190" class="legend-title">JOIN POINTS (7,12,17,22):</text>
    <text x="950" y="210" class="legend-text">7: Insurance Coverage Join</text>
    <text x="950" y="225" class="legend-text">12: Authorization Decision Join</text>
    <text x="950" y="240" class="legend-text">17: Payment Processing Join</text>
    <text x="950" y="255" class="legend-text">22: Dispensing Verification Join</text>
    
    <text x="950" y="285" class="legend-title">REGULATORY FRAMEWORKS:</text>
    <text x="950" y="305" class="legend-text">🔒 PRIVATE: HIPAA Protected Health Information</text>
    <text x="950" y="320" class="legend-text">🟦 REGULATORY: DEA Controlled Substances</text>
    <text x="950" y="335" class="legend-text">🔐 ZK PROOF: Zero-Knowledge Privacy Protection</text>
    <text x="950" y="350" class="legend-text">📊 FINANCIAL: Insurance and Payment Security</text>
    
    <text x="950" y="380" class="legend-title">VALID PATHS (36 total):</text>
    <text x="950" y="400" class="legend-text">Example: a→b→c→d→g→h→i→k→l→m→o→p→q→t→u→v</text>
    <text x="950" y="415" class="legend-text">(Generic + Prior Auth + Insurance + Retail)</text>
  </g>
</svg>